<!DOCTYPE html>
<html>
<head>
    <title>{% block title %}Welcome to My Website{% endblock %}</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/styles.css') }}">
</head>
<body>
    <div class="wrapper">
        {% include 'navbar.html' %}
        {% include 'messages.html' %}
        
        <div class="content">
            {% block content %}{% endblock %}
        </div>
        

    </div>
    
    <div id="cookieConsentContainer" style="display: none;">
        <p>We use cookies to improve your experience on our site. By continuing to use our site, you accept our use of cookies. <a href="/privacy-policy">Learn more</a>.</p>
        <button onclick="acceptCookies()">Accept</button>
    </div>

    <script>
        function getCookie(name) {
            let cookieValue = null;
            if (document.cookie && document.cookie !== '') {
                const cookies = document.cookie.split(';');
                for (let i = 0; i < cookies.length; i++) {
                    const cookie = cookies[i].trim();
                    if (cookie.substring(0, name.length + 1) === (name + '=')) {
                        cookieValue = decodeURIComponent(cookie.substring(name.length + 1));
                        break;
                    }
                }
            }
            return cookieValue;
        }

        function acceptCookies() {
            document.cookie = "cookieConsent=true; max-age=86400; path=/"; // Expires after 1 day
            document.getElementById('cookieConsentContainer').style.display = 'none';
        }

        window.onload = function() {
            if (!getCookie('cookieConsent')) {
                document.getElementById('cookieConsentContainer').style.display = 'block';
            }
        }
    </script>
</body>
<footer class="footer">
    {% include 'footer.html' %}
</footer>
</html>
